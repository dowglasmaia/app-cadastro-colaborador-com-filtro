<form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)">

  <p-panel>
    <p-header>
      <i class="fas fa-align-justify"></i>
      Cadastro de Colaboradores
    </p-header>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="nome">Nome</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"><i class="fas fa-user"></i></div>
          </div>
          <input type="text" class="form-control" id="nome" placeholder="" formControlName="nome">
        </div>
        <p-message severity="error" text="Campo Nome é Obrigatório"
          *ngIf="!formGroup.controls['nome'].valid&&formGroup.controls['nome'].dirty">
        </p-message>
      </div>

      <div class="form-group col-md-6">
        <label>e-Mail</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"><i class="fas fa-at"></i> </div>
          </div>
          <input type="text" class="form-control" id="nome" placeholder="" formControlName="email">
        </div>

        <p-message severity="error" text="Informe o e-Mail do Usuário"
          *ngIf="!formGroup.controls['email'].valid&&formGroup.controls['email'].dirty">
        </p-message>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-4">
        <label>CPF (<strong style="font-size: 12px"> Somente Números </strong>)</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"> <i class="fas fa-receipt"></i></div>
          </div>
          <input type="text" class="form-control" mask="999.999.999-99" id="cpf" placeholder="" formControlName="cpf">
        </div>
        <p-message severity="error" text="Campo CPF é Obrigatório"
          *ngIf="!formGroup.controls['cpf'].valid&&formGroup.controls['cpf'].dirty">
        </p-message>
      </div>

      <div class="form-group col-md-4">
        <label>Telefone</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"><i class="fas fa-phone-square-alt"></i></div>
          </div>
          <input type="text" class="form-control" id="contato" placeholder="" formControlName="contato">
        </div>

        <p-message severity="error" text="Campo Contato é Obrigatório"
          *ngIf="!formGroup.controls['contato'].valid&&formGroup.controls['contato'].dirty">
        </p-message>
      </div>

      <div class="form-group col-md-4">
        <label>Senha de Acesso</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"><i class="fas fa-key"></i></div>
          </div>
          <input type="text" class="form-control" id="senha" placeholder="" formControlName="senha">
        </div>
        <p-message severity="error" text="Campo Senha é Obrigatório"
          *ngIf="!formGroup.controls['senha'].valid&&formGroup.controls['senha'].dirty">
        </p-message>
      </div>
    </div>


    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Cargo</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"> <i class="fas fa-receipt"></i></div>
          </div>
          <p-autoComplete formControlName="cargo" 
            [suggestions]="cargos" 
            (completeMethod)="getCargos($event)"
            field="nome" emptyMessage="Nenhum Registro Encontrado">
          </p-autoComplete>
        </div>
        <p-message severity="error" text="Campo Cargo é Obrigatório"
          *ngIf="!formGroup.controls['cargo'].valid&&formGroup.controls['cargo'].dirty">
        </p-message>
      </div>

      <div class="form-group col-md-6">
        <label>Empresa</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <div class="input-group-text"> <i class="fas fa-receipt"></i></div>
          </div>
          <p-autoComplete formControlName="empresa" [suggestions]="empresas" (completeMethod)="getEmpresas($event)"
          field="nome" emptyMessage="Nenhum Registro Encontrado">
        </p-autoComplete>
        </div>
        <p-message severity="error" text="Campo Empresa é Obrigatório"
        *ngIf="!formGroup.controls['empresa'].valid&&formGroup.controls['empresa'].dirty">
      </p-message>
      </div>

    </div>


    <hr />
    <p-toolbar>
      <div class="ui-toolbar-group-left">
        <button pButton type="submit" label="Salvar" icon="pi pi-save" class="ui-button-success"
          style="margin-right: 5px" [disabled]="!formGroup.valid">
        </button>

      </div>

      <div class="ui-toolbar-group-right">
        <button pButton type="button" icon="pi pi-search" class="ui-button-warning" [routerLink]="['/usuario/lista']">
        </button>
      </div>

    </p-toolbar>
  </p-panel>

</form>
